<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>דשבורד פדגוגי - תכניות ומשאבים</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;700&display=swap');
        
        body {
            font-family: 'Heebo', sans-serif;
            background-color: #f3f4f6;
        }
        
        /* Custom scrollbar for better aesthetics */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- אייקונים (מוגדרים פנימית למניעת שגיאות טעינה) ---
        const IconBase = ({ size = 24, className = "", children }) => (
            <svg 
                xmlns="http://www.w3.org/2000/svg" 
                width={size} 
                height={size} 
                viewBox="0 0 24 24" 
                fill="none" 
                stroke="currentColor" 
                strokeWidth="2" 
                strokeLinecap="round" 
                strokeLinejoin="round" 
                className={className}
            >
                {children}
            </svg>
        );

        const BookOpen = (props) => (
            <IconBase {...props}>
                <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
                <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
            </IconBase>
        );

        const Monitor = (props) => (
            <IconBase {...props}>
                <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
                <line x1="8" y1="21" x2="16" y2="21"></line>
                <line x1="12" y1="17" x2="12" y2="21"></line>
            </IconBase>
        );

        const Calculator = (props) => (
            <IconBase {...props}>
                <rect x="4" y="2" width="16" height="20" rx="2"></rect>
                <line x1="8" y1="6" x2="16" y2="6"></line>
                <line x1="16" y1="14" x2="16" y2="18"></line>
                <path d="M16 10h.01"></path>
                <path d="M12 10h.01"></path>
                <path d="M8 10h.01"></path>
                <path d="M12 14h.01"></path>
                <path d="M8 14h.01"></path>
                <path d="M12 18h.01"></path>
                <path d="M8 18h.01"></path>
            </IconBase>
        );

        const Users = (props) => (
            <IconBase {...props}>
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                <circle cx="9" cy="7" r="4"></circle>
                <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
            </IconBase>
        );

        const Layers = (props) => (
            <IconBase {...props}>
                <polygon points="12 2 2 7 12 12 22 7 12 2"></polygon>
                <polyline points="2 17 12 22 22 17"></polyline>
                <polyline points="2 12 12 17 22 12"></polyline>
            </IconBase>
        );

        const GraduationCap = (props) => (
            <IconBase {...props}>
                <path d="M22 10v6M2 10l10-5 10 5-10 5z"></path>
                <path d="M6 12v5c3 3 9 3 12 0v-5"></path>
            </IconBase>
        );

        const Box = (props) => (
            <IconBase {...props}>
                <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                <line x1="12" y1="22.08" x2="12" y2="12"></line>
            </IconBase>
        );

        const BrainCircuit = (props) => (
            <IconBase {...props}>
                <path d="M12 4.5a2.5 2.5 0 0 0-4.96-.46 2.5 2.5 0 0 0-1.98 3 2.5 2.5 0 0 0-1.32 3 2.5 2.5 0 0 0 .22 3.22 2.5 2.5 0 0 0 2.29 2.29C6.83 18.5 9.17 20 12 20s5.17-1.5 5.75-4.45a2.5 2.5 0 0 0 2.29-2.29 2.5 2.5 0 0 0 .22-3.22 2.5 2.5 0 0 0-1.32-3 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 12 4.5z"></path>
                <path d="M12 8v4l4 2"></path>
                <path d="M12 12l-4 2"></path>
            </IconBase>
        );

        const School = (props) => (
            <IconBase {...props}>
                <path d="M14 22v-4a2 2 0 1 0-4 0v4"></path>
                <path d="m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2"></path>
                <path d="M18 5v17"></path>
                <path d="m4 6 8-4 8 4"></path>
                <path d="M6 5v17"></path>
                <circle cx="12" cy="9" r="2"></circle>
            </IconBase>
        );

        const LayoutGrid = (props) => (
            <IconBase {...props}>
                <rect width="7" height="7" x="3" y="3" rx="1"></rect>
                <rect width="7" height="7" x="14" y="3" rx="1"></rect>
                <rect width="7" height="7" x="14" y="14" rx="1"></rect>
                <rect width="7" height="7" x="3" y="14" rx="1"></rect>
            </IconBase>
        );

        // --- נתונים ---
        const data = {
            programs: [
                { id: 1, name: "מהנדסי הדור הבא", grades: ["א", "ב", "ג"], supplier: "תכנית גפ\"ן", audience: "כל הכיתה", type: "science" },
                { id: 2, name: "שחמט", grades: ["ב"], supplier: "טליה אמינוב", audience: "כל הכיתה", type: "logic" },
                { id: 3, name: "מצוינות מתמטיקה - ג'וניור", grades: ["ב"], supplier: "נאוה", audience: "קבוצות", type: "math" },
                { id: 4, name: "קודמאנקי", grades: ["ג", "ד"], supplier: "אגף החדשנות", audience: "כל הכיתה", type: "tech" },
                { id: 5, name: "מצוינות מתמטיקה", grades: ["ג", "ד", "ה", "ו"], supplier: "תאיר, טליה, אלין", audience: "קבוצות", type: "math" },
                { id: 6, name: "אמירים מדעים", grades: ["ג", "ד"], supplier: "נאוה צוקרמן", audience: "אמירים", type: "science" },
                { id: 7, name: "שגרירי תקשוב", grades: ["ד"], supplier: "עדן עוזיאל", audience: "קבוצות", type: "tech" },
                { id: 8, name: "מתכנתים צעירים", grades: ["ד", "ה", "ו"], supplier: "אסף יוסף טל", audience: "קבוצות", type: "tech" },
                { id: 9, name: "אמירים - נפלאות האינסוף", grades: ["ד", "ה"], supplier: "תאיר גלטר", audience: "אמירים", type: "math" },
                { id: 10, name: "רובוטיקה", grades: ["ה"], supplier: "אגף החדשנות", audience: "קבוצות", type: "tech" },
                { id: 11, name: "מייקאתון", grades: ["ה", "ו"], supplier: "אגף החדשנות", audience: "קבוצות", type: "tech" },
                { id: 12, name: "פיתוח חשיבה מתמטית", grades: ["ה", "ו"], supplier: "אסף יוסף טל", audience: "קבוצות", type: "math" },
                { id: 13, name: "מיינקראפט", grades: ["ו"], supplier: "אגף החדשנות + תאיר", audience: "כל הכיתה", type: "tech" },
                { id: 14, name: "STEM - יוצרים מציאות", grades: ["ו"], supplier: "צוות מו\"פ", audience: "קול קורא", type: "science" }
            ],
            digital: [
                { name: "גלים פרו", desc: "סביבת תוכן אינטראקטיבית" },
                { name: "ויזדי (עשר אצבעות)", desc: "לימוד מתמטיקה חוויתי" },
                { name: "שחמטק", desc: "לימוד שחמט דיגיטלי" },
                { name: "קודמאנקי", desc: "לימוד תכנות דרך משחק" }
            ],
            books: [
                { name: "ה.ש.ב.ח.ה", desc: "לכלל שכבות הגיל (א'-ו')" }
            ],
            aids: [
                "מבנה עשרוני",
                "מבנה עשרוני מגנטי",
                "גופים הנדסיים ופריסות",
                "עיגולי שברים מגנטיים",
                "שברים עשרוניים ואחוזים",
                "צורות הפלא"
            ]
        };

        const GradeButton = ({ grade, isSelected, onClick }) => (
            <button
                onClick={() => onClick(grade)}
                className={`
                    px-4 py-2 rounded-full font-bold text-sm sm:text-base transition-all duration-200 transform hover:scale-105 shadow-sm
                    ${isSelected 
                        ? 'bg-blue-600 text-white ring-2 ring-offset-2 ring-blue-600 shadow-md' 
                        : 'bg-white text-gray-600 hover:bg-blue-50 hover:text-blue-600 border border-gray-200'}
                `}
            >
                {grade === 'all' ? 'כל השכבות' : `שכבה ${grade}'`}
            </button>
        );

        const StatCard = ({ title, count, icon: Icon, color }) => (
            <div className="bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center space-x-4 space-x-reverse">
                <div className={`p-3 rounded-lg ${color} bg-opacity-10 text-${color.split('-')[1]}-600`}>
                    <Icon size={24} />
                </div>
                <div>
                    <p className="text-gray-500 text-xs sm:text-sm font-medium">{title}</p>
                    <p className="text-2xl font-bold text-gray-800">{count}</p>
                </div>
            </div>
        );

        const ProgramCard = ({ program }) => {
            const getTypeColor = (type) => {
                switch(type) {
                    case 'math': return 'bg-purple-100 text-purple-700 border-purple-200';
                    case 'tech': return 'bg-cyan-100 text-cyan-700 border-cyan-200';
                    case 'science': return 'bg-emerald-100 text-emerald-700 border-emerald-200';
                    case 'logic': return 'bg-orange-100 text-orange-700 border-orange-200';
                    default: return 'bg-gray-100 text-gray-700 border-gray-200';
                }
            };

            const getTypeIcon = (type) => {
                switch(type) {
                    case 'math': return <Calculator size={16} />;
                    case 'tech': return <Monitor size={16} />;
                    case 'science': return <BrainCircuit size={16} />;
                    case 'logic': return <LayoutGrid size={16} />;
                    default: return <BookOpen size={16} />;
                }
            };

            return (
                <div className="bg-white rounded-xl p-5 shadow-sm border border-gray-100 hover:shadow-md transition-all duration-300 flex flex-col h-full relative overflow-hidden group">
                    <div className={`absolute top-0 right-0 w-1.5 h-full ${getTypeColor(program.type).replace('bg-', 'bg-').split(' ')[0].replace('100', '500')}`}></div>
                    
                    <div className="flex justify-between items-start mb-3 pr-2">
                        <h3 className="font-bold text-lg text-gray-800 group-hover:text-blue-600 transition-colors">
                            {program.name}
                        </h3>
                        <span className={`text-xs px-2 py-1 rounded-full border flex items-center gap-1 ${getTypeColor(program.type)}`}>
                            {getTypeIcon(program.type)}
                        </span>
                    </div>
                    
                    <div className="space-y-2 text-sm text-gray-600 flex-grow pr-2">
                        <div className="flex items-center gap-2">
                            <Users size={14} className="text-gray-400" />
                            <span><span className="font-semibold">קהל יעד:</span> {program.audience}</span>
                        </div>
                        <div className="flex items-center gap-2">
                            <GraduationCap size={14} className="text-gray-400" />
                            <span><span className="font-semibold">ספק/מדריך:</span> {program.supplier}</span>
                        </div>
                        <div className="flex items-center gap-2 mt-2 pt-2 border-t border-gray-50">
                            <Layers size={14} className="text-gray-400" />
                            <span>
                                <span className="font-semibold">שכבות:</span> 
                                {program.grades.map(g => 
                                    <span key={g} className="inline-block mx-1 px-1.5 py-0.5 bg-gray-100 rounded text-xs text-gray-600 font-medium border border-gray-200">
                                        {g}'
                                    </span>
                                )}
                            </span>
                        </div>
                    </div>
                </div>
            );
        };

        const App = () => {
            const [selectedGrade, setSelectedGrade] = useState('all');
            const [filteredPrograms, setFilteredPrograms] = useState(data.programs);

            useEffect(() => {
                if (selectedGrade === 'all') {
                    setFilteredPrograms(data.programs);
                } else {
                    setFilteredPrograms(data.programs.filter(p => p.grades.includes(selectedGrade)));
                }
            }, [selectedGrade]);

            const grades = ['all', 'א', 'ב', 'ג', 'ד', 'ה', 'ו'];

            return (
                <div className="min-h-screen pb-12">
                    {/* Header */}
                    <header className="bg-white shadow-sm border-b border-gray-200 sticky top-0 z-10">
                        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex flex-col md:flex-row justify-between items-center gap-4">
                            <div className="flex items-center gap-3">
                                <div className="bg-blue-600 p-2 rounded-lg text-white shadow-lg shadow-blue-200">
                                    <School size={28} />
                                </div>
                                <div>
                                    <h1 className="text-2xl font-bold text-gray-800">דשבורד פדגוגי</h1>
                                    <p className="text-sm text-gray-500">מיפוי תכניות, משאבים ועזרים</p>
                                </div>
                            </div>
                            
                            {/* Navigation / Filters */}
                            <div className="flex flex-wrap justify-center gap-2">
                                {grades.map(grade => (
                                    <GradeButton 
                                        key={grade} 
                                        grade={grade} 
                                        isSelected={selectedGrade === grade} 
                                        onClick={setSelectedGrade} 
                                    />
                                ))}
                            </div>
                        </div>
                    </header>

                    <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8">
                        
                        {/* Stats Row */}
                        <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
                            <StatCard 
                                title={selectedGrade === 'all' ? 'סה"כ תכניות פעילות' : `תכניות לשכבה ${selectedGrade}'`} 
                                count={filteredPrograms.length} 
                                icon={Layers} 
                                color="bg-blue-100" 
                            />
                             <StatCard 
                                title="פלטפורמות דיגיטליות" 
                                count={data.digital.length} 
                                icon={Monitor} 
                                color="bg-cyan-100" 
                            />
                            <StatCard 
                                title="חוברות לימוד" 
                                count={data.books.length} 
                                icon={BookOpen} 
                                color="bg-purple-100" 
                            />
                            <StatCard 
                                title="אביזרי המחשה" 
                                count={data.aids.length} 
                                icon={Box} 
                                color="bg-orange-100" 
                            />
                        </div>

                        <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
                            
                            {/* Main Content - Programs Grid */}
                            <div className="lg:col-span-2 space-y-6">
                                <div className="flex items-center justify-between border-b pb-4 border-gray-200">
                                    <h2 className="text-xl font-bold text-gray-800 flex items-center gap-2">
                                        <Monitor className="text-blue-500" size={20} />
                                        תכניות לימוד והעשרה
                                        {selectedGrade !== 'all' && <span className="text-sm font-normal text-gray-500 bg-gray-100 px-2 py-1 rounded-md">שכבה {selectedGrade}'</span>}
                                    </h2>
                                </div>
                                
                                {filteredPrograms.length > 0 ? (
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        {filteredPrograms.map(program => (
                                            <ProgramCard key={program.id} program={program} />
                                        ))}
                                    </div>
                                ) : (
                                    <div className="text-center py-12 bg-white rounded-xl border border-dashed border-gray-300">
                                        <div className="inline-block p-4 bg-gray-50 rounded-full mb-3">
                                            <Layers className="text-gray-400" size={32} />
                                        </div>
                                        <p className="text-gray-500 font-medium">לא נמצאו תכניות עבור שכבה {selectedGrade}'</p>
                                    </div>
                                )}
                            </div>

                            {/* Sidebar - Resources */}
                            <div className="space-y-6">
                                
                                {/* Digital Platforms */}
                                <div className="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
                                    <div className="bg-gradient-to-l from-cyan-50 to-white px-5 py-4 border-b border-cyan-100">
                                        <h3 className="font-bold text-cyan-800 flex items-center gap-2">
                                            <Monitor size={18} />
                                            פלטפורמות דיגיטליות
                                        </h3>
                                    </div>
                                    <div className="p-4">
                                        <ul className="space-y-3">
                                            {data.digital.map((item, idx) => (
                                                <li key={idx} className="flex items-start gap-3 text-sm">
                                                    <div className="min-w-[6px] h-[6px] rounded-full bg-cyan-400 mt-2"></div>
                                                    <div>
                                                        <span className="font-bold text-gray-800 block">{item.name}</span>
                                                        <span className="text-gray-500 text-xs">{item.desc}</span>
                                                    </div>
                                                </li>
                                            ))}
                                        </ul>
                                    </div>
                                </div>

                                {/* Math Books */}
                                <div className="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
                                    <div className="bg-gradient-to-l from-purple-50 to-white px-5 py-4 border-b border-purple-100">
                                        <h3 className="font-bold text-purple-800 flex items-center gap-2">
                                            <BookOpen size={18} />
                                            חוברות מתמטיקה
                                        </h3>
                                    </div>
                                    <div className="p-4">
                                        <ul className="space-y-3">
                                            {data.books.map((item, idx) => (
                                                <li key={idx} className="flex items-start gap-3 text-sm">
                                                    <div className="min-w-[6px] h-[6px] rounded-full bg-purple-400 mt-2"></div>
                                                    <div>
                                                        <span className="font-bold text-gray-800 block">{item.name}</span>
                                                        <span className="text-gray-500 text-xs">{item.desc}</span>
                                                    </div>
                                                </li>
                                            ))}
                                        </ul>
                                    </div>
                                </div>

                                {/* Visual Aids */}
                                <div className="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
                                    <div className="bg-gradient-to-l from-orange-50 to-white px-5 py-4 border-b border-orange-100">
                                        <h3 className="font-bold text-orange-800 flex items-center gap-2">
                                            <Box size={18} />
                                            אביזרי המחשה
                                        </h3>
                                    </div>
                                    <div className="p-4">
                                        <ul className="grid grid-cols-1 gap-2">
                                            {data.aids.map((item, idx) => (
                                                <li key={idx} className="flex items-center gap-2 text-sm text-gray-700 bg-orange-50/50 p-2 rounded-lg border border-orange-100/50">
                                                    <div className="w-1.5 h-1.5 rounded-full bg-orange-400"></div>
                                                    {item}
                                                </li>
                                            ))}
                                        </ul>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </main>
                    
                    <footer className="text-center text-gray-400 text-sm py-8 border-t border-gray-200 mt-8">
                        <p>© נוצר באמצעות מערכת ניהול פדגוגית</p>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>